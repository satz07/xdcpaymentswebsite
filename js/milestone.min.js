var module_81752663852=function(){var __hs_messages={};i18n_getmessage=function(){return hs_i18n_getMessage(__hs_messages,hsVars.language,arguments)},i18n_getlanguage=function(){return hsVars.language},$(document).ready((function(){var GlobalSearchText="",milestone_search=$(".milestone-search"),isSearchPerItem=!1;"true"==milestone_search.attr("data-peritem")&&(isSearchPerItem=!0);var SearchAndFilterYearTimer,filter_year_select=$(".filter-year select");function searchAndFilterYear(searchText,year){GlobalSearchText=searchText,"show-all"!=year&&""!=year?($(".milestone-items .milestone-year-wrap").removeClass("slided"),$(".milestone-items .milestone-year-wrap").slideUp(),$("#milestone-"+year).addClass("slided").slideDown()):$(".milestone-items .milestone-year-wrap").addClass("slided").slideDown();var wrappersMilestone=$(".milestone-items .milestone-year-wrap.slided"),wrappersMilestoneItems=$(".milestone-items .milestone-year-wrap.slided ul li");wrappersMilestoneItems.hide(),"show-all"!=year&&""!=year||(wrappersMilestone.addClass("slided"),wrappersMilestone=$(".milestone-items .milestone-year-wrap")),""!=searchText?wrappersMilestone.each((function(){var items=$(this).find(".milestone-quarter-wrap.has_child");let ShownItem=0;items.each((function(){$(this).find("ul").text().trim().replace(/(\r\n|\n|\r)/gm,"").toLowerCase().indexOf(searchText.toLowerCase())>-1?(isSearchPerItem&&$(this).find("ul li").each((function(){$(this).fadeOut("fast"),$(this).text().trim().replace(/(\r\n|\n|\r)/gm,"").toLowerCase().indexOf(searchText.toLowerCase())>-1&&$(this).fadeIn("fast")})),$(this).slideDown(),ShownItem++):$(this).slideUp()})),0==ShownItem&&$(this).slideUp()})):wrappersMilestone.each((function(){var items=$(this).find(".milestone-quarter-wrap.has_child");items&&items.length>0?(isSearchPerItem&&items.find("ul li").fadeIn("fast"),items.slideDown(),$(this).slideDown()):$(this).slideUp()}));var shownItems=[];wrappersMilestoneItems.each((function(){$(this).is(":visible")&&shownItems.push($(this))})),shownItems&&shownItems.length>0?$(".milestone-mod .empty-message").fadeOut(100):$(".milestone-mod .empty-message").fadeIn("slow")}function delaySearchAndFilterYear(ms){clearTimeout(SearchAndFilterYearTimer),SearchAndFilterYearTimer=setTimeout((function(){searchAndFilterYear(milestone_search.val(),filter_year_select.val())}),ms||0)}$(".milestone-search").unbind().keyup((function(e){var searchText=milestone_search.val();filter_year_select.val();""!=searchText?searchText!=GlobalSearchText&&""!=searchText&&delaySearchAndFilterYear(1e3):delaySearchAndFilterYear(1e3)})),$(".filter-year select").on("change",(function(){searchAndFilterYear(milestone_search.val(),filter_year_select.val())}));let has_ele=$(".milestone-quarter-wrap ul li");has_ele.length&&$(has_ele).parents(".milestone-quarter-wrap").addClass("has_child"),searchAndFilterYear("","show-all")}))}();